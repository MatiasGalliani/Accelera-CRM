# This curl command simulates a real form submission from a website to your API
# You can run this directly from command line to test your API

curl -X POST "http://localhost:3000/api/leads/webhook" \
  -H "Content-Type: application/json" \
  -H "X-API-Key: dev-api-key-123" \
  -d '{
    "firstName": "Alessandro",
    "lastName": "Bianchi",
    "email": "alessandrobianchi.test@example.com",
    "phone": "3451234567",
    "message": "Sono interessato ad un prestito personale per rinnovare casa",
    "source": "aiquinto",
    "importoRichiesto": "35000",
    "stipendioNetto": "2750",
    "tipologiaDipendente": "Privato",
    "sottotipo": "Impiegato",
    "tipoContratto": "Tempo Indeterminato",
    "provinciaResidenza": "Roma",
    "privacyAccettata": true
  }'

# Expected response:
# {
#   "success": true,
#   "leadId": 8,
#   "source": "aiquinto",
#   "assignedAgentId": 3
# }

# For Windows PowerShell:
# Invoke-RestMethod -Method POST -Uri "http://localhost:3000/api/leads/webhook" -Headers @{"Content-Type"="application/json"; "X-API-Key"="dev-api-key-123"} -Body '{
#   "firstName": "Alessandro",
#   "lastName": "Bianchi",
#   "email": "alessandrobianchi.test@example.com",
#   "phone": "3451234567",
#   "message": "Sono interessato ad un prestito personale per rinnovare casa",
#   "source": "aiquinto",
#   "importoRichiesto": "35000",
#   "stipendioNetto": "2750",
#   "tipologiaDipendente": "Privato",
#   "sottotipo": "Impiegato",
#   "tipoContratto": "Tempo Indeterminato",
#   "provinciaResidenza": "Roma",
#   "privacyAccettata": true
# }' 